# RemoteLogViewer

![スクリーンショット](docs/ScreenShot.png)

SSH 上の巨大ログを素早く閲覧・検索するための Windows (WinUI 3) アプリです。

## できること
- リモート SSH サーバーへ接続 (パスワード / 秘密鍵)
- ディレクトリを辿ってログファイルを開く
- 数百万行規模でも必要な範囲だけを高速表示 (スクロール追従)
- キーワード検索 (GREP 相当) で一致行を取得
- 指定行範囲のテキストをまとめてダウンロード
- 利用可能な文字エンコードを一覧表示し切替 (UTF-8 / Shift_JIS など)
- よく使うパスをブックマーク登録・削除

## 使い方 (クイックスタート)
1. アプリ起動後「接続設定」を追加し、ホスト・ポート・ユーザー・認証情報・文字エンコードを入力
2. Connect をクリックして接続 (成功すると通知が表示)
3. 左側のブラウザで目的のディレクトリへ移動
4. ログファイルをクリックすると内容が表示され、スクロールに合わせて行が追加読み込みされます
5. 検索ボックスにキーワードを入力して GREP 実行すると一致行が一覧表示されます
6. 必要なら行番号ジャンプで特定行へ移動／範囲取得機能でテキストをコピー
7. よく見るディレクトリやファイルはブックマークで再訪を簡略化

## 検索 (GREP)
- キーワードを入力し検索実行で先頭から最大件数までの一致行を取得します。
- 大文字小文字の扱いや詳細オプションは今後拡張予定です。

## エンコード切替
- 接続後「利用可能エンコーディング」からサーバーで使える文字コード一覧を取得できます。
- ファイルを再度開く際に選択中エンコードが反映されます。

## ブックマーク
- 現在表示中のパス配下のエントリをブックマークへ追加できます。
- 再起動後も保存され、素早く目的のパスへ移動可能です。

## インストール / 実行
```bash
# ソース取得
git clone https://github.com/southernwind/RemoteLogViewer.git
cd RemoteLogViewer
# ビルド
dotnet build
# 実行
dotnet run --project RemoteLogViewer/RemoteLogViewer.csproj
```

## 前提条件
- Windows 10 (19041+) / Windows 11
- .NET 9 SDK
- リモート側に OpenSSH接続が可能であり、grep, sed, awk, iconv が利用可能であること

## ヒント / 運用
- 検索は巨大ファイルでは時間がかかる場合があります。
- スクロール開始直後はバックグラウンドで行インデックス準備中のため一部空行が表示される事がありますが自動的に埋まります。
- エンコードが不明な場合はまず UTF-8 を試し、文字化けする場合に他候補へ切替えてください。

## 既知の制限
- バイナリファイルは表示対象外
- 検索オプション (正規表現 / 大文字小文字切替) は最小限
- 非常に高速に更新されるログ (リアルタイム追記) の追尾は未対応

## ライセンス
検討中

---
問題・要望は Issue へどうぞ。
